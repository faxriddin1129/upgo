/* empty css             *//* empty css                       *//* empty css                 *//* empty css                     *//* empty css                  *//* empty css                  */import{_ as S}from"./BackBtnView-d3429739.js";import{C as M}from"./ClientCardView-5f75ea30.js";import{T as P}from"./TableView-52bca027.js";import{_ as z,j as u,n as D,q as O,s as p,d as a,c as v,a as e,b as c,t as d,w as T,J as E,f as Z,H as j,z as y,y as b,P as Y,R as $,Q as q,o as g,F as A,r as N,e as U,p as F,g as H,O as J}from"./index-e79a3e3f.js";import{u as R}from"./clientStore-8611536b.js";import{u as K}from"./productStore-af8b3064.js";/* empty css                  *//* empty css                   *//* empty css                         */import"./el-dropdown-item-4ed993c7.js";/* empty css                *//* empty css                   */const s=_=>(F("data-v-cc32318d"),_=_(),H(),_),Q={key:0},G={class:"d-flex align-items-center justify-content-between mb-5"},W=s(()=>e("p",{class:"m-0 text-center main-title"},"Olingan buyurtmalar",-1)),X=s(()=>e("div",null,null,-1)),ee={class:"mb-3"},te={class:"order-card"},oe=s(()=>e("p",{class:"underline-title"},"Buyurtma oluvchi",-1)),ae={class:"d-flex align-items-center gap-3 mb-3"},se=s(()=>e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM10 4C11.93 4 13.5 5.57 13.5 7.5C13.5 9.43 11.93 11 10 11C8.07 11 6.5 9.43 6.5 7.5C6.5 5.57 8.07 4 10 4ZM10 18C7.97 18 5.57 17.18 3.86 15.12C5.55 13.8 7.68 13 10 13C12.32 13 14.45 13.8 16.14 15.12C14.43 17.18 12.03 18 10 18Z",fill:"black","fill-opacity":"0.4"})],-1)),le={class:"agent m-0"},ne={class:"d-flex align-items-center gap-3"},ie=s(()=>e("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17.01 12.38C15.78 12.38 14.59 12.18 13.48 11.82C13.13 11.7 12.74 11.79 12.47 12.06L10.9 14.03C8.07 12.68 5.42 10.13 4.01 7.2L5.96 5.54C6.23 5.26 6.31 4.87 6.2 4.52C5.83 3.41 5.64 2.22 5.64 0.99C5.64 0.45 5.19 0 4.65 0H1.19C0.65 0 0 0.24 0 0.99C0 10.28 7.73 18 17.01 18C17.72 18 18 17.37 18 16.82V13.37C18 12.83 17.55 12.38 17.01 12.38Z",fill:"black","fill-opacity":"0.4"})],-1)),ce={class:"phone m-0"},de={class:"my-3"},re=s(()=>e("label",{for:"type-payment"},"To’lov usuli",-1)),ue={class:"my-3"},_e=s(()=>e("label",{for:"cashback"},"Keshbek foiz",-1)),me={class:"my-3 w-100"},pe=s(()=>e("label",{for:"cashback"},"Yetkazish kuni va vaqti",-1)),he={class:"w-100"},Le={class:"order-card d-flex flex-column mt-4 gap-3"},ge={class:"d-flex align-items-center justify-content-between"},fe=s(()=>e("p",{class:"title m-0"},"Jami narx",-1)),ve={class:"text m-0"},ye={class:"d-flex align-items-center justify-content-between"},be={class:"title m-0"},ke={class:"text price m-0"},we={class:"d-flex align-items-center justify-content-between"},Ce=s(()=>e("p",{class:"title m-0"},"To’lanadigan narx",-1)),xe={class:"text payment m-0"},Be=s(()=>e("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M22 10.99L19.56 8.2L19.9 4.51L16.29 3.69L14.4 0.5L11 1.96L7.6 0.5L5.71 3.69L2.1 4.5L2.44 8.2L0 10.99L2.44 13.78L2.1 17.48L5.71 18.3L7.6 21.5L11 20.03L14.4 21.49L16.29 18.3L19.9 17.48L19.56 13.79L22 10.99ZM18.05 12.47L17.49 13.12L17.57 13.97L17.75 15.92L15.85 16.35L15.01 16.54L14.57 17.28L13.58 18.96L11.8 18.19L11 17.85L10.21 18.19L8.43 18.96L7.44 17.29L7 16.55L6.16 16.36L4.26 15.93L4.44 13.97L4.52 13.12L3.96 12.47L2.67 11L3.96 9.52L4.52 8.87L4.43 8.01L4.25 6.07L6.15 5.64L6.99 5.45L7.43 4.71L8.42 3.03L10.2 3.8L11 4.14L11.79 3.8L13.57 3.03L14.56 4.71L15 5.45L15.84 5.64L17.74 6.07L17.56 8.02L17.48 8.87L18.04 9.52L19.33 10.99L18.05 12.47Z",fill:"white"}),e("path",{d:"M9.08906 12.7501L6.76906 10.4201L5.28906 11.9101L9.08906 15.7201L16.4291 8.36012L14.9491 6.87012L9.08906 12.7501Z",fill:"white"})],-1)),Ve={__name:"InfoOrdersView",setup(_){R();const m=K(),k=j();let n=u({});const f=u([]);let h=u(!0),w=function(){b.go(-1)};const o=D({delivery_time:null,client_id:null,payment_type_id:null,cashback:null,products:[]}),C=function(){o.delivery_time&&o.payment_type_id&&o.cashback&&o.products!==[]?(o.delivery_time/=1e3,o.client_id=n.value.id,m.basketProducts.forEach(t=>{o.products.push({count:t.count,product_id:t.product.product_id,stock_product_id:t.product.stock_product_id})}),console.log("confirData",o),p.post("/order",o,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log(t.data),m.basketProducts=[],y.success("Buyurtma qabul qilindi!"),setTimeout(()=>{b.push({name:"Business",path:"/dillerpanel/business"})},1e3)}).catch(t=>{console.log(t)})):y.error("Barcha maydonlarni to'ldirish shart")};let r=u(0);const L=u({});return O(async()=>{m.basketProducts.forEach(t=>{r.value+=t.product.product.sell_price*t.count}),p.get(`/client/${k.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log(t.data),n.value=t.data.data,h.value=!1}).catch(t=>{console.log(t)}),await p.get("payment-type",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log(t.data),f.value=t.data.data}).catch(t=>{console.log(t)}),await p.get("/user/get-me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log("buyurtma oluvchi",t.data.data),L.value=t.data.data,h.value=!1}).catch(t=>{console.log(t)})}),(t,i)=>{const x=J,B=Y,V=$,I=q;return a(h)?Z("",!0):(g(),v("div",Q,[e("div",G,[c(S,{onClick:a(w)},null,8,["onClick"]),W,X]),e("div",ee,[c(M,{legal_name:a(n).legal_name,name:a(n).name,img:a(n).file,"about-client":a(n).id,location:a(n).location},null,8,["legal_name","name","img","about-client","location"])]),e("div",null,[e("div",te,[oe,e("div",ae,[se,e("p",le,d(L.value.detail[0].first_name),1)]),e("div",ne,[ie,e("p",ce,d(L.value.username),1)])]),e("div",null,[e("div",de,[re,c(B,{modelValue:o.payment_type_id,"onUpdate:modelValue":i[0]||(i[0]=l=>o.payment_type_id=l),class:"m-2 w-100",placeholder:"Select",size:"large"},{default:T(()=>[(g(!0),v(A,null,N(f.value,l=>(g(),U(x,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",ue,[_e,c(V,{modelValue:o.cashback,"onUpdate:modelValue":i[1]||(i[1]=l=>o.cashback=l),placeholder:"Cashback"},null,8,["modelValue"])]),e("div",me,[pe,e("div",he,[c(I,{modelValue:o.delivery_time,"onUpdate:modelValue":i[2]||(i[2]=l=>o.delivery_time=l),type:"date",placeholder:"Pick a day",size:"large",class:"w-100",format:"DD/MM/YYYY","value-format":"x"},null,8,["modelValue"])])])]),e("div",Le,[e("div",ge,[fe,e("p",ve,d(a(r))+" so’m",1)]),e("div",ye,[e("p",be,"CashBack ("+d(o.cashback)+"%)",1),e("p",ke," -"+d(a(r)*o.cashback/100)+" so’m ",1)]),e("div",we,[Ce,e("p",xe,d(a(r)-a(r)*o.cashback/100)+" so’m ",1)])]),e("div",null,[c(P,{product:a(m).basketProducts},null,8,["product"])]),e("div",null,[e("button",{onClick:C,class:"confirm-btn d-flex align-items-center justify-content-center gap-2"},[Be,E("Buyurtma olish ")])])])]))}}},He=z(Ve,[["__scopeId","data-v-cc32318d"]]);export{He as default};
