/* empty css             *//* empty css                 */import{_ as x}from"./BackBtnView-d3429739.js";import{B as w}from"./BusinessBlueBtn-7010c9a1.js";import{_ as S,u as V,n as k,c as v,a as t,b as a,d as o,w as B,R as I,o as C,J as E,t as R,p as z,g as M,z as l,K as q,L as _}from"./index-e79a3e3f.js";import{u as T}from"./stockStore-576318a6.js";import{P as N}from"./ProductCardViewItem-ae3cc1d1.js";/* empty css                       *//* empty css                  *//* empty css                   *//* empty css                   *//* empty css                                                                        */import"./stock-b7c92c55.js";/* empty css                                                                            */const c=s=>(z("data-v-69b91581"),s=s(),M(),s),P={class:"d-flex align-items-center justify-content-between mb-5"},U=c(()=>t("p",{class:"m-0 main-title"},"Mahsulot ayirish",-1)),A=c(()=>t("div",null,null,-1)),D={class:"mb-3"},J=c(()=>t("label",{for:"blok"},"Rasxod qiymat",-1)),K={class:"my-3"},L={__name:"SubtractView",setup(s){const r=V(),f=T(),g=function(){r.push({name:"SubtractListProduct"})},{count:m,product_id:u,product:{name:h,file:b,measure:d}}=JSON.parse(localStorage.getItem("product")),e=k({product_id:u,count:"",comment:""}),y=()=>{e.count.length===0?(console.log("error: product"),l.error("Qiymat kiritilmadi")):e.comment.length===0?l.error("Izoh  yozilmadi"):e.count>m?l.warning("Mahsulot qiymatidan oshib ketdi"):q.confirm("Mahsulot ayirilmoqda. Aminmisiz?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{f.DE_CREATE(e).then(()=>{console.log("updated"),setTimeout(()=>{r.go(-1)},1e3)}),_({type:"success",message:"Muaffaqiyatli ayirildi!"})}).catch(()=>{_({type:"info",message:"Canceled"})})};return(O,n)=>{const p=I;return C(),v("div",null,[t("div",P,[a(x,{onClick:g}),U,A]),t("div",D,[a(N,{count:o(m),measure:o(d),name:o(h),img:o(b),id:o(u)},null,8,["count","measure","name","img","id"])]),t("div",null,[J,a(p,{class:"blok",id:"blok",size:"large",type:"number",modelValue:e.count,"onUpdate:modelValue":n[0]||(n[0]=i=>e.count=i),placeholder:""},{append:B(()=>[E(R(o(d)),1)]),_:1},8,["modelValue"])]),t("div",K,[a(p,{modelValue:e.comment,"onUpdate:modelValue":n[1]||(n[1]=i=>e.comment=i),class:"text-area",autosize:{minRows:4,maxRows:8},type:"textarea",placeholder:"Sabab..."},null,8,["modelValue"])]),t("div",null,[a(w,{onClick:y,text:"Rasxod qilish"})])])}}},se=S(L,[["__scopeId","data-v-69b91581"]]);export{se as default};
