/* empty css             *//* empty css                 *//* empty css                  *//* empty css                     */import{s as l,A as V,n as v,_ as M,j as L,q as B,G as D,c as u,b as m,d as b,a,k as p,x as _,w as S,f,P,o as c,V as F,F as A,r as C,e as k,p as R,g as $,y as x,z as U,O as z}from"./index-e79a3e3f.js";import{_ as N}from"./BackBtnView-d3429739.js";import{B as O}from"./BusinessBlueBtn-7010c9a1.js";/* empty css                                                                     */import"./productStore-4b6deccf.js";import{u as q}from"./useUploadFileStore-2c0d6f39.js";/* empty css                                                                        */const g={CREATE(e){return l.post("/category",e)},LIST(){return l.get("/category")},ITEM(e){return l.get(`/category/${e}`)},FULL_INFO_LIST(){return l.get("/category/?include=owner,time")},UPDATE(e,d){return l.put(`/category/${e}`,d)}};V("category",()=>{const e=v({load:!1,data:[],errormessage:"",item:null,fulldata:[]});return{CREATE:async o=>await g.CREATE(o),LIST:async()=>{try{const o=await g.LIST();return console.log(o.data.data),e.data=o.data.data,e.load=!0,o}catch(o){console.log(o),e.errormessage="Error loading category"}},ITEM:async o=>{try{const t=await g.ITEM(o);e.item=t.data.data,e.load=!0}catch{e.errormessage="Error loading category item"}},FULL_LIST:async o=>{try{const t=await g.FULL_INFO_LIST(o);console.log(t.data.data),e.fulldata=t.data.data,e.load=!0}catch(t){console.log(t),e.errormessage="Error loading full category"}},UPDATE:async(o,t)=>await g.UPDATE(o,t),STATE:e}});const y={CREATE(e){return l.post("/measure",e)},LIST(){return l.get("/measure")},ITEM(e){return l.get(`/measure/${e}`)},UPDATE(e,d){return l.put(`/measure/${e}`,d)}};V("measure",()=>{const e=v({load:!1,data:[],errormessage:"",item:null,fulldata:[]});return{CREATE:async o=>await y.CREATE(o),LIST:async()=>{try{const o=await y.LIST();return console.log(o.data.data),e.data=o.data.data,e.load=!0,o}catch(o){console.log(o),e.errormessage="Error loading category"}},DELETE:async o=>{try{const t=await y.DELETE(o);e.load=!0}catch{e.errormessage="Error loading category item"}},UPDATE:async(o,t)=>await y.UPDATE(o,t),ITEM:async o=>{try{const t=await y.ITEM(o);e.item=t.data.data,e.load=!0}catch{e.errormessage="Error loading category item"}},STATE:e}});const i=e=>(R("data-v-6a328870"),e=e(),$(),e),K={class:"d-flex align-items-center justify-content-between mb-5"},j=i(()=>a("p",{class:"m-0 main-title"},"Kategoriya yaratish",-1)),Y=i(()=>a("div",null,null,-1)),G={class:"input-label mb-3"},Q=i(()=>a("label",{for:"phone"},"Mahsulot nomi",-1)),H={class:"input-wrap"},J={class:"input-label mb-3"},W=i(()=>a("label",{for:"phone"},"Olinadigan narxi",-1)),X={class:"input-wrap"},Z={class:"input-label mb-3"},ee=i(()=>a("label",{for:"phone"},"Sotiladigan narxi",-1)),te={class:"input-wrap"},ae={class:"input-label mb-3"},oe=i(()=>a("label",{for:"phone"},"Mahsulot rasmi",-1)),se={class:"input-wrap"},re={key:0,class:"input-label mb-3"},ne=i(()=>a("label",{for:"phone"},"Mahsulot birligi",-1)),le={key:1,class:"input-label mb-3"},ie=i(()=>a("label",{for:"phone"},"Birligi (agar ro’yxatda bo’lmasa)",-1)),ce={class:"input-wrap"},de={key:2,class:"input-label"},ue=i(()=>a("label",{for:"phone"},"Mahsulot kategoriyaysi",-1)),pe={key:3,class:"input-label mb-3"},_e=i(()=>a("label",{for:"phone"},"Kategoriya kiriting (agar ro’yxatda bo’lmasa)",-1)),me={class:"input-wrap"},ge={class:"input-label mb-3"},ye=i(()=>a("label",{for:"phone"},"Qisqacha ma’lumot",-1)),he={class:"input-wrap"},Ee={__name:"CreateCategory",setup(e){const d=function(){x.go(-1)},h=q();let E=L([]),T=L([]);B(()=>{l.get("/category",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{var s;console.log(t.data),E.value=(s=t==null?void 0:t.data)==null?void 0:s.data}).catch(t=>{console.log(t)}),l.get("/measure",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{var s;console.log(t.data),T.value=(s=t==null?void 0:t.data)==null?void 0:s.data}).catch(t=>{console.log(t)})});const n=v({name:"",description:"",category_id:"",category_name:"",measure_id:null,measure_name:"",file_id:D(()=>h.fileID),sell_price:"",get_price:""});console.log(n);const o=()=>{l.post("/product",n,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log(t.data),U.success("Yangi kategoriya qo'shildi"),setTimeout(()=>{x.go(-1)},1e3)}).catch(t=>{console.log(t),U.error("Yaratilmadi")})};return(t,s)=>{const I=z,w=P;return c(),u("div",null,[m(b(F)),a("div",null,[a("div",K,[m(N,{onClick:d}),j,Y]),a("div",null,[a("div",G,[Q,a("div",H,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[0]||(s[0]=r=>n.name=r)},null,512),[[_,n.name]])])]),a("div",J,[W,a("div",X,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[1]||(s[1]=r=>n.get_price=r)},null,512),[[_,n.get_price]])])]),a("div",Z,[ee,a("div",te,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[2]||(s[2]=r=>n.sell_price=r)},null,512),[[_,n.sell_price]])])]),a("div",ae,[oe,a("div",se,[a("input",{type:"file",class:"input",onChange:s[3]||(s[3]=r=>b(h).setFile(r.target.files[0]))},null,32)])]),n.measure_name?f("",!0):(c(),u("div",re,[ne,m(w,{modelValue:n.measure_id,"onUpdate:modelValue":s[4]||(s[4]=r=>n.measure_id=r),class:"w-[100%]",placeholder:"Birlik",size:"large"},{default:S(()=>[(c(!0),u(A,null,C(b(T),r=>(c(),k(I,{key:r.id,label:r.name,value:r.id,class:"w-[100%]"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])),n.measure_id?f("",!0):(c(),u("div",le,[ie,a("div",ce,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[5]||(s[5]=r=>n.measure_name=r)},null,512),[[_,n.measure_name]])])])),n.category_name?f("",!0):(c(),u("div",de,[ue,m(w,{modelValue:n.category_id,"onUpdate:modelValue":s[6]||(s[6]=r=>n.category_id=r),class:"mb-3 w-[100%]",placeholder:"Kategoriya",size:"large"},{default:S(()=>[(c(!0),u(A,null,C(b(E),r=>(c(),k(I,{key:r.id,label:r.name,value:r.id,class:"w-[100%]"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])),n.category_id?f("",!0):(c(),u("div",pe,[_e,a("div",me,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[7]||(s[7]=r=>n.category_name=r)},null,512),[[_,n.category_name]])])])),a("div",ge,[ye,a("div",he,[p(a("input",{type:"text",class:"input","onUpdate:modelValue":s[8]||(s[8]=r=>n.description=r)},null,512),[[_,n.description]])])]),m(O,{onClick:o,text:"Saqlash"})])])])}}},xe=M(Ee,[["__scopeId","data-v-6a328870"]]);export{xe as default};
