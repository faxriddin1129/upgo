import{_ as y,j as m,o as f,c as h,a as t,t as x,k as v,v as k,d as w,m as C,l as B,f as I,n as q,q as $,s as g,b as i,x as b,B as D,p as U,g as M,y as V,z as _}from"./index-e79a3e3f.js";import{_ as S}from"./BackBtnView-d3429739.js";const z="/assets/passw-visible-1667e113.svg",j={class:"input-label"},P={for:"phone"},E={class:"input-wrap"},L=["type"],N={key:0,src:z,alt:""},A={__name:"InputLabelView",props:["label","icon","type"],setup(a){const e=a;let n=m(null);const d=function(){e.type=="text"&&(e.type="password"),e.type=="password"&&(e.type="text")};return(c,r)=>(f(),h("div",j,[t("label",P,x(e.label),1),t("div",E,[v(t("input",C({type:e.type},c.$attrs,{class:"input","onUpdate:modelValue":r[0]||(r[0]=s=>B(n)?n.value=s:n=s)}),null,16,L),[[k,w(n)]]),t("div",{onClick:d,class:"ico-wrap"},[e.icon?(f(),h("img",N)):I("",!0)])])]))}},p=y(A,[["__scopeId","data-v-547fdd95"]]);const u=a=>(U("data-v-d76d1fd0"),a=a(),M(),a),T={class:"add-client"},Y={class:"d-flex align-items-center justify-content-between"},R=u(()=>t("p",{class:"m-0 text-center main-title"},"Mijoz qo'shish",-1)),F=u(()=>t("div",null,null,-1)),G={class:"form"},H={class:"input-label mb-3"},J=u(()=>t("label",{for:"phone"},"Telefon raqam / Login",-1)),K={class:"input-wrap"},O={class:"input-label mb-3"},Q=u(()=>t("label",{for:"phone"},"Parol",-1)),W={class:"input-wrap"},X={__name:"CreateClientView",setup(a){const e=q({legal_name:null,first_name:null,address:null,phone:"+998",password:null,password_confirm:null});let n=function(){V.go(-1)},d=m(!0),c=function(){d.value=!0,r.value.forEach(s=>{s.username==e.phone&&(_.info("Bunaqa raqamdagi foydalanuvchi mavjud"),d.value=!1)}),d.value&&(!e.legal_name||!e.first_name||!e.address||!e.phone||!e.password||!e.password_confirm?(_.error("Iltimos bo'sh maydonni to'ldiring"),console.log(e)):g.post("/diller",e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(s=>{console.log(s.data),_.success("Muvofaqqiyatli qo'shildi"),V.go(-1)}).catch(s=>{console.log(s)}))};const r=m([]);return $(()=>{g.get("/diller",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(s=>{console.log(s.data),r.value=s.data.data}).catch(s=>{console.log(s)})}),(s,o)=>(f(),h("div",T,[t("div",Y,[i(S,{onClick:w(n)},null,8,["onClick"]),R,F]),t("div",G,[i(p,{label:"Yuridik nomi",type:"text",modelValue:e.legal_name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.legal_name=l),class:"mb-2"},null,8,["modelValue"]),i(p,{label:"Director",type:"text",modelValue:e.first_name,"onUpdate:modelValue":o[1]||(o[1]=l=>e.first_name=l),class:"mb-2"},null,8,["modelValue"]),i(p,{label:"Manzili",type:"text",modelValue:e.address,"onUpdate:modelValue":o[2]||(o[2]=l=>e.address=l),class:"mb-2"},null,8,["modelValue"]),t("div",H,[J,t("div",K,[v(t("input",{type:"text",class:"input","onUpdate:modelValue":o[3]||(o[3]=l=>e.phone=l)},null,512),[[b,e.phone]])])]),t("div",O,[Q,t("div",W,[v(t("input",{type:"password",class:"input","onUpdate:modelValue":o[4]||(o[4]=l=>e.password=l)},null,512),[[b,e.password]])])]),i(p,{label:"Parol tasdiqlash",type:"password",modelValue:e.password_confirm,"onUpdate:modelValue":o[5]||(o[5]=l=>e.password_confirm=l),class:"mb-2"},null,8,["modelValue"]),i(D,{onClick:w(c),text:"Yaratish"},null,8,["onClick"])])]))}},te=y(X,[["__scopeId","data-v-d76d1fd0"]]);export{te as default};
