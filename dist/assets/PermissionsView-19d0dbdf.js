/* empty css             *//* empty css                                                                      */import{_ as x,j as p,q as S,s as v,c as u,a as e,b as _,d as g,k as B,x as D,l as q,F as E,r as I,o as m,t as z,B as N,p as j,g as C,y as b,z as f,E as P}from"./index-e79a3e3f.js";import{_ as T}from"./BackBtnView-d3429739.js";import{u as U}from"./staffStore-66c9d8b6.js";const r=i=>(j("data-v-ac02bf1d"),i=i(),C(),i),A={class:"d-flex justify-content-between"},F=r(()=>e("p",{class:"m-0 main-title"},"Xodimga ruxsat berish",-1)),L=r(()=>e("div",null,null,-1)),M={class:"pt-4"},X={class:"input-label"},R=r(()=>e("label",{for:"phone"},"Lavozimi",-1)),$={class:"input-wrap"},G=r(()=>e("hr",null,null,-1)),H=["for"],J={class:"m-0"},K={__name:"PermissionsView",setup(i){let o=p("");const d=U(),n=p([]),l=p([]);let w=function(){b.go(-1)};const h=localStorage.getItem("token"),k=function(){d.staffData.permissions=[],n.value.forEach(s=>{s.position=o.value,s.permission?s.permission=1:s.permission=0,d.staffData.permissions.push(s)}),o.value?v.post("/employee",d.staffData,{headers:{Authorization:`Bearer ${h}`}}).then(s=>{console.log(s.data),f.success("Xodim muvofaqqiyatli qo'shildi"),setTimeout(()=>{b.push("/dillerpanel")},100)}).catch(s=>{console.log(s),f.error(s.response.data.message)}):f.info("To'ldirilmagan maydonlarni to'ldiring")};return S(()=>{v.get("/permission",{headers:{Authorization:`Bearer ${h}`}}).then(s=>{console.log("permissions",s.data.data),s.data.data.length!==0&&(s.data.data.forEach(t=>{n.value.push({permission_id:t.id,position:"",permission:0}),l.value.push({label:t.name})}),console.log(n.value))}).catch(s=>{console.log(s)})}),(s,t)=>{const y=P;return m(),u("div",null,[e("div",A,[_(T,{onClick:g(w)},null,8,["onClick"]),F,L]),e("div",M,[e("div",X,[R,e("div",$,[B(e("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=a=>q(o)?o.value=a:o=a)},null,512),[[D,g(o)]])])])]),G,(m(!0),u(E,null,I(n.value,(a,c)=>(m(),u("div",{class:"checkboxes mb-2",key:c},[e("label",{for:l.value[c].label,class:"input-wrap d-flex align-items-center justify-content-between"},[e("p",J,z(l.value[c].label),1),_(y,{id:l.value[c].label,modelValue:a.permission,"onUpdate:modelValue":V=>a.permission=V},null,8,["id","modelValue","onUpdate:modelValue"])],8,H)]))),128)),_(N,{onClick:k,text:"Saqlash"})])}}},ss=x(K,[["__scopeId","data-v-ac02bf1d"]]);export{ss as default};
