import{_ as B}from"./BackBtnView-d3429739.js";import{C as I}from"./ClientCardView-5f75ea30.js";import{T as S}from"./TableView-52bca027.js";import{_ as $,j as l,q as O,s as r,c as C,a as e,b as d,t as s,d as m,w as b,e as T,f as j,H as z,z as _,K as q,y as p,i as M,o as h,p as V,g as D}from"./index-e79a3e3f.js";import"./BtnPdfMaker.vue_vue_type_style_index_0_scoped_03fb6f62_lang-0a3ab248.js";/* empty css             *//* empty css                       *//* empty css                  *//* empty css                 *//* empty css                   *//* empty css                  *//* empty css                         *//* empty css                     */import"./el-dropdown-item-4ed993c7.js";/* empty css                */import"./clientStore-8611536b.js";/* empty css                   */const o=c=>(V("data-v-4aee98ea"),c=c(),D(),c),A={key:0},Z={class:"d-flex align-items-center justify-content-between mb-5"},L=o(()=>e("p",{class:"m-0 main-title"},"Buyurtmani tasdiqlash",-1)),N=o(()=>e("div",null,null,-1)),E={class:"order-card my-3"},F=o(()=>e("p",{class:"underline-title"},"Buyurtma oluvchi",-1)),H={class:"d-flex align-items-center gap-3 mb-3"},J=o(()=>e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM10 4C11.93 4 13.5 5.57 13.5 7.5C13.5 9.43 11.93 11 10 11C8.07 11 6.5 9.43 6.5 7.5C6.5 5.57 8.07 4 10 4ZM10 18C7.97 18 5.57 17.18 3.86 15.12C5.55 13.8 7.68 13 10 13C12.32 13 14.45 13.8 16.14 15.12C14.43 17.18 12.03 18 10 18Z",fill:"black","fill-opacity":"0.4"})],-1)),K={class:"agent m-0"},P={class:"d-flex align-items-center gap-3"},R=o(()=>e("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17.01 12.38C15.78 12.38 14.59 12.18 13.48 11.82C13.13 11.7 12.74 11.79 12.47 12.06L10.9 14.03C8.07 12.68 5.42 10.13 4.01 7.2L5.96 5.54C6.23 5.26 6.31 4.87 6.2 4.52C5.83 3.41 5.64 2.22 5.64 0.99C5.64 0.45 5.19 0 4.65 0H1.19C0.65 0 0 0.24 0 0.99C0 10.28 7.73 18 17.01 18C17.72 18 18 17.37 18 16.82V13.37C18 12.83 17.55 12.38 17.01 12.38Z",fill:"black","fill-opacity":"0.4"})],-1)),U={class:"phone m-0"},W={class:"order-card"},Y={class:"d-flex align-items-center justify-content-between mb-3"},G=o(()=>e("p",{class:"m-0"},"Yetkazish vaqti",-1)),Q={class:"text m-0"},X={class:"d-flex align-items-center justify-content-between mb-5"},ee=o(()=>e("p",{class:"m-0"},"Jami narxi",-1)),te={class:"text m-0"},ae={class:"d-flex align-items-center justify-content-between mb-3"},oe={class:"m-0"},se={class:"text price m-0"},ne={class:"d-flex align-items-center justify-content-between mb-3"},ie=o(()=>e("p",{class:"m-0"},"To’lanadigan narx",-1)),le={class:"text price m-0"},ce={class:"d-flex align-items-center justify-content-between"},re=o(()=>e("p",{class:"m-0"},"To’lov usuli",-1)),de={class:"text phone m-0"},ue={key:0},me=o(()=>e("button",{class:"configure-btn blue"},"Buyurtmani tahrirlash",-1)),_e=o(()=>e("button",{class:"btn btn-primary w-100 my-3"},"PDF",-1)),pe={__name:"ConfirmedOrdersInfo",setup(c){const i=z(),u=l(!1),t=l({}),g=l(!1),f=l("");l(!1);const x=l({}),y=function(){p.go(-1)},w=function(){u.value=!0,r.get(`/order/${i.params.id}/pending`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{console.log("pending",a.data),_.success("Tasdiqlandi!"),u.value=!0,r.get(`/order/${i.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(n=>{console.log(n.data.data),x.value=n.data.data}).catch(n=>{console.log(n)})}).catch(a=>{console.log(a)})},k=function(){q.confirm("O'chirmoqchimsiz?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(()=>{r.delete(`order/${i.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{console.log(a.data),setTimeout(()=>{p.push("/orders-agents")},500),_.success("O'chirildi"),p.push("/dillerpanel/business")}).catch(a=>{console.log(a)})}).catch(()=>{_.info("O'chirilmadi")})};return O(async()=>{await r.get(`/order/${i.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(a=>{var n;console.log("resdara",a.data.data),t.value=(n=a==null?void 0:a.data)==null?void 0:n.data,f.value=new Date(a.data.data.delivery_time*1e3),g.value=!0}).catch(a=>{console.log(a)})}),(a,n)=>{const v=M("router-link");return g.value?(h(),C("div",A,[e("div",Z,[d(B,{onClick:y}),L,N]),e("div",null,[d(I,{legal_name:t.value.client.legal_name,name:t.value.client.name,img:t.value.client.file,location:t.value.client.location,"about-client":t.value.client.id},null,8,["legal_name","name","img","location","about-client"])]),e("div",null,[e("div",E,[F,e("div",H,[J,e("p",K,s(t.value.user.detail[0].first_name)+" "+s(t.value.user.detail[0].last_name),1)]),e("div",P,[R,e("p",U,s(t.value.user.username),1)])])]),e("div",W,[e("div",Y,[G,e("p",Q,s(f.value.toLocaleDateString("en-US")),1)]),e("div",X,[ee,e("p",te,s(t.value.total_price)+" so’m",1)]),e("div",ae,[e("p",oe,"CashBack ( "+s(t.value.cashback)+" %)",1),e("p",se,s(t.value.total_price*t.value.cashback/100)+" so’m ",1)]),e("div",ne,[ie,e("p",le,s(t.value.total_price-t.value.total_price*t.value.cashback/100)+" so’m ",1)]),e("div",ce,[re,e("p",de,s(t.value.payment_type.name),1)])]),e("div",null,[d(S,{product:t.value.products,route:m(i).name},null,8,["product","route"])]),e("div",null,[u.value?(h(),T(v,{key:1,to:`/pdf-page/${m(i).params.id}`},{default:b(()=>[_e]),_:1},8,["to"])):(h(),C("div",ue,[e("button",{onClick:w,class:"configure-btn green"}," Buyurtmani tasdiqlash "),d(v,{to:`/confirmed-orders-edit/${m(i).params.id}`},{default:b(()=>[me]),_:1},8,["to"]),e("button",{onClick:k,class:"configure-btn red"}," Buyurtmani o’chirish ")]))])])):j("",!0)}}},ze=$(pe,[["__scopeId","data-v-4aee98ea"]]);export{ze as default};
