import{_ as I,o as i,c as u,a as t,t as O,C as T,u as L,j as h,q as P,s as r,n as U,b as d,d as A,e as v,k as m,x as g,w as k,H as D,G as F,P as N,V as R,F as C,r as S,p as j,g as q,z as f,K,L as E,O as Z,W}from"./index-e79a3e3f.js";/* empty css             *//* empty css                 *//* empty css                  *//* empty css                     */import{_ as G}from"./BackBtnView-d3429739.js";import{B as Q}from"./BusinessBlueBtn-7010c9a1.js";import{u as J}from"./useUploadFileStore-2c0d6f39.js";/* empty css                       *//* empty css                  *//* empty css                   *//* empty css                   *//* empty css                                                                        */const X={class:"red-btn d-flex align-items-center justify-content-center gap-2"},Y=T('<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-93c85a7d><g clip-path="url(#clip0_980_679)" data-v-93c85a7d><path d="M16.5 9V19H8.5V9H16.5ZM15 3H10L9 4H5.5V6H19.5V4H16L15 3ZM18.5 7H6.5V19C6.5 20.1 7.4 21 8.5 21H16.5C17.6 21 18.5 20.1 18.5 19V7Z" fill="white" data-v-93c85a7d></path></g><defs data-v-93c85a7d><clipPath id="clip0_980_679" data-v-93c85a7d><rect width="24" height="24" fill="white" transform="translate(0.5)" data-v-93c85a7d></rect></clipPath></defs></svg>',1),ee={class:"m-0"},te={__name:"BusinessRedBtn",props:["text"],setup(n){const c=n;return(p,y)=>(i(),u("div",null,[t("button",X,[Y,t("p",ee,O(c.text),1)])]))}},ae=I(te,[["__scopeId","data-v-93c85a7d"]]);const l=n=>(j("data-v-658a2b54"),n=n(),q(),n),oe={key:1},se={class:"d-flex align-items-center justify-content-between mb-5"},le=l(()=>t("p",{class:"m-0 main-title"},"Kategoriyani tahrirlash",-1)),ie=l(()=>t("div",null,null,-1)),ne={class:"input-label mb-2"},de=l(()=>t("label",{for:"phone"},"Nomi",-1)),ce={class:"input-wrap"},re={class:"input-label mb-2"},ue=l(()=>t("label",{for:"phone"},"Olinadigan narxi",-1)),pe={class:"input-wrap"},_e={class:"input-label mb-2"},me=l(()=>t("label",{for:"phone"},"Sotiladigan narxi",-1)),ge={class:"input-wrap"},he={class:"input-label mb-2"},ve=l(()=>t("label",{for:"phone"},"Mahsulot rasmi",-1)),fe={class:"input-wrap"},ye={class:"input-label mb-2"},be=l(()=>t("label",null,"Birligi",-1)),we=l(()=>t("label",null,"Kategoriya",-1)),xe={class:"input-label mb-2"},Be=l(()=>t("label",{for:"phone"},"Qisqacha maâ€™lumot",-1)),Ve={class:"input-wrap"},ke={__name:"EditCategory",setup(n){const c=L(),p=D(),y=function(){c.go(-1)},b=J(),w=h([]),x=h([]);P(()=>{r.get("/category",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{console.log("categoires",e.data.data),w.value=e.data.data}).catch(e=>{console.log(e)}),r.get("/measure",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{console.log("categoires",e.data.data),x.value=e.data.data}).catch(e=>{console.log(e)}),r.get(`/product/${p.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{console.log("item product",e.data.data),a.name=e.data.data.name,a.get_price=e.data.data.get_price,a.sell_price=e.data.data.sell_price,a.measure_id=e.data.data.measure_id,a.description=e.data.data.description,a.category_id=e.data.data.category_id,a.file_id=e.data.data.file_id}).catch(e=>{console.log(e)})});const a=U({name:"",description:"",category_id:"",measure_id:"",file_id:"",sell_price:"",get_price:""}),$=e=>{b.setFile(e.target.files[0]),a.file_id=F(()=>b.fileID)},_=h(!1),H=()=>{a.file_id?r.put(`/product/${p.params.id}`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{console.log(e),f.success("O'zgarish muaffaqiyatli bajarildi !"),setTimeout(()=>{c.go(-1)},700)}).catch(e=>{console.log(e),f.error("Error")}):(f.warn("Iltmos yangi rasmni tanlang !!!"),setTimeout(()=>{location.reload()},1e3))},z=()=>{K.confirm("O'chirish. Ha","Warning",{confirmButtonText:"DELETE",cancelButtonText:"Cancel",type:"warning"}).then(()=>{_.value=!0,r.delete(`/product/${p.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>{_.value=!1,console.log(e.data),_.value||(E({type:"success",message:"O'chirildi"}),setTimeout(()=>{c.go(-1)},1200))}).catch(e=>{console.log(e)})}).catch(()=>{E({type:"info",message:"O'chirilmadi"})})};return(e,s)=>{const B=Z,V=N,M=ae;return i(),u("div",null,[d(A(R)),_.value?(i(),v(W,{key:0})):(i(),u("div",oe,[t("div",se,[d(G,{onClick:y}),le,ie]),t("div",null,[t("div",ne,[de,t("div",ce,[m(t("input",{type:"text",class:"input","onUpdate:modelValue":s[0]||(s[0]=o=>a.name=o)},null,512),[[g,a.name]])])]),t("div",re,[ue,t("div",pe,[m(t("input",{type:"text",class:"input","onUpdate:modelValue":s[1]||(s[1]=o=>a.get_price=o)},null,512),[[g,a.get_price]])])]),t("div",_e,[me,t("div",ge,[m(t("input",{type:"text",class:"input","onUpdate:modelValue":s[2]||(s[2]=o=>a.sell_price=o)},null,512),[[g,a.sell_price]])])]),t("div",he,[ve,t("div",fe,[t("input",{type:"file",class:"input",onChange:$},null,32)])]),t("div",ye,[be,d(V,{value:a.measure_id,modelValue:a.measure_id,"onUpdate:modelValue":s[3]||(s[3]=o=>a.measure_id=o),class:"mb-3 w-[100%]",placeholder:"Birlik",size:"large"},{default:k(()=>[(i(!0),u(C,null,S(x.value,o=>(i(),v(B,{key:o.id,label:o.name,value:o.id,class:"w-[100%]"},null,8,["label","value"]))),128))]),_:1},8,["value","modelValue"])]),t("div",null,[we,d(V,{value:a.category_id,modelValue:a.category_id,"onUpdate:modelValue":s[4]||(s[4]=o=>a.category_id=o),class:"mb-3 w-[100%]",placeholder:"Kategoriya",size:"large"},{default:k(()=>[(i(!0),u(C,null,S(w.value,o=>(i(),v(B,{key:o.id,label:o.name,value:o.id,class:"w-[100%]"},null,8,["label","value"]))),128))]),_:1},8,["value","modelValue"])]),t("div",xe,[Be,t("div",Ve,[m(t("input",{type:"text",class:"input","onUpdate:modelValue":s[5]||(s[5]=o=>a.description=o)},null,512),[[g,a.description]])])]),d(Q,{onClick:H,text:"Saqlash"}),d(M,{onClick:z,text:"Delete",class:"my-3"})])]))])}}},Ae=I(ke,[["__scopeId","data-v-658a2b54"]]);export{Ae as default};
