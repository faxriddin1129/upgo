import{_ as D}from"./BackBtnView-d3429739.js";import{O as b}from"./OrderCardView-55fd8127.js";import{P as w}from"./PeriodView-2b69c449.js";import{_ as B,j as o,q as x,s as O,c,a as e,b as n,d,F as S,r as I,H as V,o as _,w as C,p as H,g as N,y as E,i as F}from"./index-e79a3e3f.js";/* empty css             *//* empty css                       *//* empty css                 *//* empty css                     *//* empty css                  *//* empty css                                                                   */const i=r=>(H("data-v-0571deda"),r=r(),N(),r),M={class:"staff-statistic"},$={class:"d-flex align-items-center justify-content-between mb-4"},j=i(()=>e("p",{class:"m-0 main-title"},"Buyurtmalar tarixi",-1)),L=i(()=>e("div",null,null,-1)),P=i(()=>e("hr",null,null,-1)),T=i(()=>e("h6",{class:"title mb-3"},"Olingan buyurtmalar",-1)),q={__name:"OrderHistory",setup(r){let h=o(""),y=o("");const g=V(),p=o([]),u=o([]);let m=o(0);const v=function(){E.go(-1)};return x(async()=>{await O.get(`/order?filter[client_id]=${g.params.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{console.log(t.data.data),p.value=t.data.data,t.data.data.forEach((s,l)=>{u.value[l]=new Date(s.created_at*1e3)}),t.data.data.forEach(s=>{m.value+=s.update_total_price})}).catch(t=>{console.log(t)})}),(t,s)=>{const l=D,k=F("router-link");return _(),c("div",M,[e("div",$,[n(l,{onClick:v}),j,L]),n(w,{totalDebt:d(m),startDate:d(h),endDate:d(y)},null,8,["totalDebt","startDate","endDate"]),P,e("div",null,[T,(_(!0),c(S,null,I(p.value,(a,f)=>(_(),c("div",{key:f,class:"each-order"},[n(k,{to:`/order-products/${a.id}`},{default:C(()=>[n(b,{marketName:a.client.legal_name,time:u.value[f].toLocaleDateString("en-US"),price:a.update_total_price,paymentType:a.payment_type.name,logoMarket:a.client.file},null,8,["marketName","time","price","paymentType","logoMarket"])]),_:2},1032,["to"])]))),128))])])}}},Y=B(q,[["__scopeId","data-v-0571deda"]]);export{Y as default};
